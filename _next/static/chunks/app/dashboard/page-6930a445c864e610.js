(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{78288:function(e,s,n){Promise.resolve().then(n.bind(n,39932))},39932:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return S}});var a=n(57437),i=n(39421),r=n(6586),t=n(98725),o=n(2265),c=n(53267);n(43034),n(54885);var g=n(73242),l=n(28027),p=n(16463),u=n(76341),m=n(97858),d=n(11444),x=n(81136),h=n(64466),f=n(40673);function _(e){let{srcKey:s,srcEndName:n,alt:i}=e,[r,t]=(0,o.useState)(!1),c="".concat("https://cibus-dev.conecto.com.br/storage").concat(n),g=m.k[s];return r?(0,a.jsx)("img",{src:g,alt:i,className:"object-cover w-full h-[90px] rounded-lg"}):(0,a.jsx)("img",{src:c,alt:i,className:"object-cover w-full h-[90px] rounded-lg",onError:()=>t(!0)})}var y=e=>{let{groups:s,id:n}=e,i=(0,p.useRouter)(),r=(0,d.I0)(),{filterGroup:t}=(0,f.X)(),o=e=>{i.push("/dashboard/items"),r((0,h.t0)(e.group_screen_name)),r((0,x.SI)(e)),t(e.group_screen_key,e)};return(0,a.jsx)(c.tq,{spaceBetween:16,slidesPerView:"auto",modules:[u.W_],className:"mySwiper",style:{paddingTop:18,paddingBottom:18},id:n||"",children:null==s?void 0:s.map((e,s)=>(0,a.jsx)(c.o5,{style:{width:"150px",marginRight:"16px"},children:(0,a.jsx)(g.Z,{onClick:()=>o(e),style:{borderRadius:"0.375rem"},className:"shadow-lg      ",children:(0,a.jsx)(l.Z,{elevation:5,className:"flex justify-center items-center w-36 h-[90px]",style:{borderRadius:"0.375rem"},children:(0,a.jsx)(_,{srcKey:e.group_screen_key,srcEndName:e.image,alt:e.group_screen_name})})})},s))})},b=n(67075),v=n(17156),j=n(5879),k=n(13608);let w=()=>{let e=(0,d.I0)(),{productsAndGroupData:s,selectedItem:n}=(0,t.r)(),{tokenResponse:a,qrCodeData:i}=(0,k.a)(),r=(0,o.useMemo)(()=>{var e;return null!==(e=null==s?void 0:s.items)&&void 0!==e?e:{}},[s]),{filterGroup:c}=(0,f.X)(),g=(0,p.useRouter)(),l=(0,o.useMemo)(()=>({0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}),[])[new Date().getDay()],[u,m]=(0,o.useState)({open:!1,alertInfo:{open:!1,title:"",message:"",severity:"success"}}),h=(0,o.useCallback)(()=>{m(e=>({...e,open:!1}))},[]);(0,o.useEffect)(()=>{(null==a?void 0:a.access_token)&&i&&e((0,x.c_)(i.table_number,i.store_key,a.access_token))},[null==a?void 0:a.access_token,i,e]);let _=(0,o.useCallback)(s=>{e((0,x.fF)([s])),m({open:!0,alertInfo:{open:!0,title:"Erro ao adicionar item",message:"N\xe3o foi poss\xedvel adicionar o item ao carrinho",severity:"error"}})},[e]),y=(0,o.useCallback)(e=>{if(!s)return[];let n=s.groups.find(s=>s.group_screen_key===e);if(n&&0===n.sub_group.length)return Object.values(r).filter(s=>s.group_screen_key===e);let a=null==n?void 0:n.sub_group.map(e=>e.group_screen_key);return Object.values(r).filter(e=>a&&a.includes(e.group_screen_key))},[s,r]),b=(0,o.useCallback)(e=>{c(e.group_screen_key),g.push("/dashboard/items")},[g,e]);return{currentDay:l,addCart:_,productsAndGroupData:s,selectedItem:n,open:u.open,handleClose:h,getPromotionalItems:y,handleViewMore:b,alertInfo:u.alertInfo}};var C=()=>{let{productsAndGroupData:e,open:s,handleClose:n,selectedItem:o,currentDay:g,addCart:l,getPromotionalItems:p,handleViewMore:m}=w(),{alertInfo:d,closeAlert:x}=(0,t.r)();return(0,a.jsxs)(b.Z,{sx:{height:"100%"},children:[(0,a.jsxs)(v.Z,{display:"flex",flexDirection:"column",overflow:"auto",children:[(0,a.jsx)(v.Z,{flexGrow:1,children:(0,a.jsx)(y,{groups:null==e?void 0:e.groups,id:"carouselGroup"})}),(0,a.jsx)(v.Z,{overflow:"auto",children:Object.values([{group_screen_key:603,daysAvailable:["Fri"]},{group_screen_key:622,daysAvailable:["Wed","Sat"]},{group_screen_key:606}]).map((s,n)=>{let i=!s.daysAvailable||s.daysAvailable.includes(g),t=p(s.group_screen_key),o=e&&e.groups.find(e=>e.group_screen_key===s.group_screen_key);return i&&t&&t.length>0&&(0,a.jsxs)(v.Z,{mb:1,children:[(0,a.jsxs)(v.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[(0,a.jsx)(v.Z,{component:"span",fontWeight:"bold",children:null==o?void 0:o.group_screen_name}),(0,a.jsx)(v.Z,{component:"span",color:"primary.main",style:{cursor:"pointer"},onClick:()=>{o&&m(o)},children:"Ver Mais"},n)]}),(0,a.jsx)(c.tq,{spaceBetween:16,slidesPerView:"auto",modules:[u.W_],className:"mySwiper",style:{paddingTop:18,marginBottom:30},children:t.map((e,s)=>{var n;return(0,a.jsx)(c.o5,{style:{width:"180px",marginRight:"16px",boxSizing:"border-box",overflow:"hidden",marginBottom:20},children:(0,a.jsx)(r.S,{image:e.images&&(null===(n=e.images[0])||void 0===n?void 0:n.url)?"".concat("https://cibus-dev.conecto.com.br/storage").concat(e.images[0].url):"",title:e.screen_description,price:e.best_price?e.best_price:e.price,description:e.web_description,onClick:async()=>l(e)})},s)})})]},n)})})]}),d&&d.open&&(0,a.jsx)(i.p,{title:d.title,message:d.message,severity:d.severity,open:d.open,onClose:x}),(0,a.jsx)(j.n,{open:s,handleClose:n,selectedItem:o})]})},S=()=>(0,a.jsx)(C,{})},97858:function(e,s,n){"use strict";n.d(s,{k:function(){return a}});let a={669:"/images/pizzas.png",600:"/images/pizza-salgada-200x120.png",601:"/images/pizza-doce-200x120.png",602:"/images/pizza-metade-200x120.png",603:"/images/sushi (1).png",679:"/images/combinado-200x120.png",680:"/images/sushi-200x120.png",681:"/images/sashimi-200x120.png",682:"/images/makimono-200x120.png",683:"/images/temaki-200x120.png",684:"/images/combinado-200x120.png",685:"/images/yakisoba-200x120.png",604:"/images/grelhado.png",676:"/images/carnes-200x120.png",677:"/images/frangos-200x120.png",678:"/images/peixes-200x120.png",687:"/images/acompanhamentosGrelhados.png",691:"/images/lanches.png",605:"/images/sobremesas.png",606:"/images/massas.png",670:"/images/penne-200x120.png",671:"/images/spaghetti-200x120.png",672:"/images/gnocchi-200x120.png",673:"/images/tagliatelle-200x120.png",674:"/images/penne-integral-200x120.png",675:"/images/lasanha-200x120.png",608:"/images/saladas.png",609:"/images/acompanhamentos.png",610:"/images/mozzarella.png",622:"/images/cafe_manha.png",686:"/images/bebidas.png",617:"/images/refrigerante-200x120.png",619:"/images/cervejas-200x120.png",620:"/images/drinques_vinho.png",621:"/images/diversos-200x120.png",623:"/images/cafes-chas-200x120.png",634:"/images/drinks-200x120.png",640:"/images/Vodka.png",641:"/images/Whisky.png",642:"/images/GIN.png",643:"/images/cachaca.png",645:"/images/drinques_vinho.png",700:"/images/tequila.png",701:"/images/sem_alcool.png",638:"/images/sucos-200x120.png",618:"/images/sucos-1litro.png",639:"/images/sucos-500ml.png",644:"/images/chopp.png",614:"/images/focaccia.png",615:"/images/porcoes.png",625:"/images/dicas-expert-200x120.png",626:"/images/dicas-expert-segunda-200x120.png",627:"/images/dicas-expert-terca-200x120.png",628:"/images/dicas-expert-quarta-200x120.png",629:"/images/dicas-expert-quinta-200x120.png",630:"/images/sexta-feira-200x120.png",631:"/images/promocoes.png",632:"/images/bar_do_rio.png",624:"/images/drinks-200x120.png",633:"/images/petisco-200x120.png",635:"/images/promo-bar-rio-200x120.png"}},39421:function(e,s,n){"use strict";n.d(s,{p:function(){return p}});var a=n(57437),i=n(2265),r=n(17156),t=n(27270),o=n(60335),c=n(7630),g=n(70374),l=n(18511);function p(e){let{title:s,message:n,severity:p,open:u,onClose:m,autoCloseDuration:d=5e3}=e;return(0,i.useEffect)(()=>{if(u){let e=setTimeout(()=>{m()},d);return()=>clearTimeout(e)}},[u,d,m]),(0,a.jsx)(r.Z,{sx:{width:"100%"},children:(0,a.jsx)(g.Z,{open:u,autoHideDuration:d,onClose:m,children:(0,a.jsxs)(t.Z,{severity:p,action:(0,a.jsx)(o.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:m,children:(0,a.jsx)(c.Z,{fontSize:"inherit"})}),sx:{mb:2},children:[(0,a.jsx)(l.Z,{children:s}),n]})})})}},13608:function(e,s,n){"use strict";n.d(s,{a:function(){return i}});var a=n(11444);let i=()=>{let{tokenResponse:e,loading:s,qrCodeData:n}=(0,a.v9)(e=>e.auth);return{tokenResponse:e,loading:s,qrCodeData:n}}},64466:function(e,s,n){"use strict";n.d(s,{Lj:function(){return t},OB:function(){return r},cV:function(){return i},t0:function(){return o}});var a=n(70079);let i=e=>({type:a.YS,payload:{token:e}}),r=e=>({type:a.P6,payload:{configData:e}}),t=()=>({type:a.cd,payload:{}}),o=e=>({type:a.j6,payload:{pageName:e}})},70079:function(e,s,n){"use strict";n.d(s,{FZ:function(){return t},P6:function(){return i},YS:function(){return a},cd:function(){return r},j6:function(){return o}});let a="CONFIG_REQUEST",i="CONFIG_SUCCESS",r="CONFIG_FAILURE",t="CLEAR_CONFIG_STATE",o="SET_PAGENAME"}},function(e){e.O(0,[383,444,570,336,593,448,91,35,445,916,450,178,782,482,478,971,23,744],function(){return e(e.s=78288)}),_N_E=e.O()}]);